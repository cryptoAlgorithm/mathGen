const $=e=>document.getElementById(e),VERSION_CODE="0.1.8",numGen=$("num-gen").MDCTextField,minField=$("ans-min").MDCTextField,maxField=$("ans-max").MDCTextField;function copyElemContents(e){e.classList.add("copy");let t,s,n=document.body;if(document.createRange&&window.getSelection){t=document.createRange(),(s=window.getSelection()).removeAllRanges();try{t.selectNodeContents(e),s.addRange(t)}catch(n){t.selectNode(e),s.addRange(t)}document.execCommand("copy")}else n.createTextRange&&((t=n.createTextRange()).moveToElementText(e),t.select(),t.execCommand("Copy"));e.classList.remove("copy")}const showMSG=e=>{const t=$("msg-snackbar").MDCSnackbar;t.labelText=e,t.open()},constructQnTable=(e,t,s,n=!1)=>{let o="";if(n&&(o+='<div class="printMsg">Reloading this window will cause generated questions to be lost</div>'),s.noFormat)o=`<pre>${t.map((e,t)=>s.qnNos?`${t}. ${e}`:e).join("\n")}</pre>`;else{null!=s.header&&(o+=`<h2><b>${s.header}</b></h2>`),s.name&&(o+='<p style="margin:0">Name: <u>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;</u></p>'),s.class&&(o+='<p style="margin:8px 0 0 0">Class: <u>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;</u></p>'),s.date&&(o+='<p style="margin-top:8px">Date: <u>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;</u></p>'),o+="<table>";let e=1;t.forEach(t=>{(e-1)%s.rows==0&&0!==e&&(o+="</tr><tr>"),s.qnNos?o+=`<td>${e}. </td>`:o+="<td></td>",o+=`<td class="qn">${t}</td>`,e++}),o+="</tr><td></td>"}e.classList.add("qnOutput"),e.innerHTML=o};function inputValid(){const e=minField.value;return!(maxField.value===e||!maxField.valid||!minField.valid)&&!!numGen.valid}const genBtn=$("start_gen");function inputChangeListener(){genBtn.disabled=!inputValid(),console.log("called")}$("app-ver").textContent="App version: v0.1.8",inputChangeListener();const resetFactOps=()=>{$("c-factor").checked=!1,$("grp").checked=!1,$("per-sq").checked=!1,$("tri").checked=!1,$("general-form").checked=!1};numGen.input_.oninput=inputChangeListener,maxField.input_.oninput=inputChangeListener,minField.input_.oninput=inputChangeListener,$("reset-methods").onclick=resetFactOps,$("more-info").onclick=(()=>{const e=$("more-info-dialog").MDCDialog;e.open(),e.listen("MDCDialog:closed",e=>{switch(e.detail.action){case"credits":$("credits-dialog").MDCDialog.open();break;case"settings":$("settings-dialog").MDCDialog.open();break;case"help":window.open("help.html","Help","toolbars=0,width=580,height=720,left=200,top=200,scrollbars=1,resizable=1,modal=1,alwaysRaised=1")}})}),genBtn.onclick=(()=>{MIN_RANGE=parseInt(minField.value),MAX_RANGE=parseInt(maxField.value);const e=numGen.value;let t=[];if($("grp").checked)for(let s=0;s<e;s++){const{a:e,b:s,x:n,y:o,use_vars:a}=_grouping();t.push(grouping(e,s,n,o,a).qn)}else if($("per-sq").checked)for(let s=0;s<e;s++){const{a:e,b:s,c:n,use_vars:o,two_var:a}=_perfect_square();t.push(perfect_square(e,s,n,o,a).qn)}else if($("tri").checked)for(let s=0;s<e;s++){const{a:e,b:s,c:n,use_vars:o,x1:a,x2:i}=_trinomial();t.push(trinomial(e,s,n,o,a,i).qn)}else if($("c-factor").checked)for(let s=0;s<e;s++)t.push(common_factor().qn);else{if(!$("general-form").checked)return void showMSG("No factorisation method(s) selected");for(let s=0;s<e;s++){const{a:e,b:s,c:n,use_vars:o,x1:a,x2:i}=_general_formula();t.push(general_formula(e,s,n,o,a,i).qn)}}const s=$("out-items-chips").MDCChipSet.selectedChipIds;console.log({MIN_RANGE:MIN_RANGE,MAX_RANGE:MAX_RANGE});const n={rows:2,name:s.includes("out-name-field"),date:s.includes("out-date-field"),class:s.includes("out-class-field"),qnNos:s.includes("out-qn-nos"),header:"This is a test",noFormat:$("no-format").checked};constructQnTable($("results-content"),t,n);const o=$("results-dialog").MDCDialog;o.open(),o.listen("MDCDialog:closed",e=>{switch(e.detail.action){case"print":const s=window.open("printResults.html","Print Questions","toolbars=0,width=720,height=640,left=200,top=200,scrollbars=1,resizable=1,modal=1,alwaysRaised=1");s.onload=(()=>{constructQnTable(s.document.body,t,n,!0),s.onafterprint=(()=>{setTimeout(()=>s.close(),500)}),s.print()})}})}),$("copy-questions").onclick=(()=>{copyElemContents($("results-content")),showMSG("Questions copied to clipboard"),$("results-dialog").MDCDialog.close()});